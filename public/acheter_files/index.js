(()=>{var t={6548:(t,e,n)=>{var o=n(2712),i=o.injectChatbot,r=o.injectSpinnerStyle;t.exports=function(t){t.addEventListener("click",(function e(n){n.preventDefault(),t.setAttribute("data-open-chat-on-load","true"),t.setAttribute("class","cs-loading"),r(t.id),i((function(){t.removeEventListener("click",e),setTimeout((function(){t.setAttribute("class","")}),4e3)}))}))}},2503:(t,e,n)=>{var o=n(42),i=o.isSubstring,r=o.isCsBlacklistedPage,a=o.getOkGlobal;t.exports={isOkLink:function(){return i(window.location.hostname,"oklink.com")},isBlacklisted:function(){return r(window.location.pathname)},isApp:function(){return Boolean(a().isApp)},isChatPage:function(){return i(window.location.pathname,"support-center/chat")},isSupportCenter:function(){return new RegExp("/help$").test(window.location.pathname)},isContactUsPage:function(){return new RegExp("/contact-us.html$").test(window.location.pathname)},isContextualStart:function(){return i(window.location.href,"chatbot_toggle=true")}}},3249:t=>{t.exports={CS_BLACKLIST:["/what-is-okx-contest",{path:"/trade",exact:!0},"/trade-spot",{path:"/trade-option/simple",exact:!0},"/trade-option-simple","/trade-swap","/trade-futures","/trade-margin","/trade-option","/trade-spot-strategy","/download","/derivatives/swap/full","/derivatives/futures/full","/liquid-marketplace","/explorer"],BUTTON_ID:"ok-cs-button",MESSAGE_CHANNEL:{INCOMING:"global_chatbot_toggled",OUTGOING:"global_chatbot_toggled_internal"}}},2712:(t,e,n)=>{var o=n(42).getOkGlobal,i=!1;function r(){var t=document.createElement("link");t.setAttribute("id","ok-chatbot-css"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","".concat(o().versionUrls.customerService,"/index.css")),document.head.appendChild(t)}function a(t){var e=document.createElement("script");e.setAttribute("id","ok-chatbot-script"),e.setAttribute("async",""),e.setAttribute("crossorigin",""),e.setAttribute("src","".concat(o().versionUrls.customerService,"/index.js")),"function"===typeof t&&(e.onload=t),document.body.appendChild(e)}function s(){var t=document.createElement("div");return t.id="cs-loader-spin",t}t.exports={injectCSS:r,injectJS:a,injectChatbot:function(t){i||(r(),a(t),i=!0)},injectButtonMediaQueryStyle:function(t){var e=document.createElement("style"),n="@media (min-width: 768px) { #".concat(t," { display: flex; } }"),o="@media (max-width: 767px) { #".concat(t," { display: none; } }");e.innerHTML=n+o,document.head.appendChild(e)},injectSpinnerStyle:function(t){var e=document.createElement("style");e.innerHTML="#cs-loader-spin {width: 22px;height: 22px;border-radius: 22px;border: 2px solid rgb(7, 66, 243);border-top-color: #ffffff;border-right-color: #ffffff;display: none;box-sizing: border-box;background-color: transparent;animation: rotation 0.5s cubic-bezier(0.29, 0.13, 0.71, 0.84) infinite;}"+"#".concat(t,".cs-loading > #cs-loader-spin { display: inline-flex; }")+"@keyframes rotation {from { transform: rotate(0deg); }to { transform: rotate(360deg); }}",document.head.appendChild(e)},createSpinner:s,createChatButton:function(t){var e=document.createElement("div");e.id=t;var n=document.createElement("style");n.innerHTML="#".concat(t,"{")+"display: flex;position: fixed;right: 16px;bottom: 16px;z-index: 10000;width: 44px;height: 44px;border: 0;border-radius: 50%;opacity: 1;transition: all .3s;"+"background-image: url(".concat(o().cdnBaseUrl,"/cdn/assets/imgs/225/B7545722CDD68A02.png);")+"background-repeat: no-repeat;background-size: 106%;background-position: center;background-color: rgb(7,66,243);cursor: pointer;justify-content: center;align-items: center;}"+"#".concat(t,".cs-loading { background-image: none; }");var i=s();return e.appendChild(i),document.head.appendChild(n),document.body.appendChild(e),e}}},2497:(t,e,n)=>{var o=n(42).relayMessage,i=n(2712),r=i.injectChatbot,a=i.injectButtonMediaQueryStyle,s=i.createChatButton,c=n(6548),l=n(2503),d=l.isOkLink,u=l.isBlacklisted,p=l.isApp,f=l.isChatPage,g=l.isSupportCenter,h=l.isContactUsPage,b=l.isContextualStart,m=n(3249),x=m.BUTTON_ID,v=m.MESSAGE_CHANNEL;function w(){if(!(d()||u()||p()&&!f()))if(f())r();else{o({incoming:v.INCOMING,outgoing:v.OUTGOING,onRelay:function(){r()}});var t=s(x);g()||a(x),g()||h()||b()?r():c(t)}}window.okui.expressway||(window.okui.expressway={}),window.okui.expressway.chatbotLoader=w,t.exports={loadChatbotModule:w}},42:(t,e,n)=>{var o=n(3249).CS_BLACKLIST;function i(t,e){var n="string"===typeof e?{path:e,exact:!1}:e,o=n.path,i=n.exact,r="^(?:/[a-zA-Z]{2}(?:-[a-zA-Z]{2})*)*",a=new RegExp(r+(o+"$")),s="/"===o[o.length-1]?o:o+"/",c=new RegExp(r+s);return i?a.test(t):a.test(t)||c.test(t)}t.exports={isSubstring:function(t,e){for(var n=0;n<t.length-e.length+1;++n){for(var o=!0,i=0;i<e.length;++i)if(t[n+i]!==e[i]){o=!1;break}if(o)return!0}return!1},isCsBlacklistedPage:function(t){for(var e=0;e<o.length;++e){if(i(t,o[e]))return!0}return!1},getOkGlobal:function(){return window._okGlobal||window.okGlobal},relayMessage:function(t){var e=this,n=t.incoming,o=t.outgoing,i=t.onRelay,r=window._global_message_list;if(r){var a=r[n]||(r[n]={}),s=r[o]||(r[o]={});a.receive=function(){i(),s.list||(s.list=[]);for(var t=s.receive,n="function"===typeof t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];n?t.apply(e,r):s.list.push({arg:r})}}},isPageBlacklisted:i}}},e={};(function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports})(2497)})();
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/expressway/0.24.169/chatbotLoader/index.js.map